# README
인프런 - SpringBoot JPA활용 1 강의를 듣고 정리한 내용입니다.

## Entity 설계 주의사항
- Setter를 사용하지 않는다.
  - Setter가 모두 열려있게 되면, 변경 포인트가 너무 많아지게 되어 유지보수가 힘들다.
- 모든 연관관계는 지연로딩(LAZY)으로 설정한다.
  - 즉시 로딩(EAGER)의 경우에는 예측이 힘들고, SQL의 실행 추적이 힘들다
  - 특히 JPQL을 실행 할 때 N+1 문제가 자주 발생한다
  - 연관된 엔티티를 함께 DB에서 조회할 필요가 있는경우, fetch join또는 엔티티 그래프 기능을 활용한다.
- 컬렉션은 필드에서 초기화 한다.
  - null 문제에서 안전하다.
  - 하이버네이트는 엔티티를 영속화 시킬 때 컬렉션을 감싸서 하이버네이트가 제공하는 내장 컬렉션으로 변경한다. 이때 임의의 메서드에서 컬렉션을 잘못 생성하면, 하이버네이트 내부매커니즘에 문제가 발생할 수 있기 때문에, 필드레벨에서 생성하는것이 가장 안전하고, 코드가 간결함 
- 기본 생성자는 PROTECTED로 설정한다.
  - 객체(Entity)를 생성을 못하게 막기 위함
- cascade
  - ALL
    - 모든 변경에 대해 연관관계를 같이 변경한다.